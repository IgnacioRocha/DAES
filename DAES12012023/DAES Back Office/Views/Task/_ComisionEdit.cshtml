@model DAES.Web.BackOffice.Controllers.TaskModel

@if (Model.Disolucions.Count() != 0)
{
    <div id="divDirectorio" name="divDirectorio">
        <h4>Comisión Liquidadora</h4>
        <table class="table table-striped dataTable">
            @for (var i = 0; i < Model.Organizacion.ComisionLiquidadoras.Count(); i++)
            {
                @Html.HiddenFor(model => model.Organizacion.ComisionLiquidadoras[i].OrganizacionId)
                @Html.HiddenFor(model => model.Organizacion.ComisionLiquidadoras[i].ComisionLiquidadoraId)
                <thead>
                    <tr>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].EsMiembro, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].NombreCompleto, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].Rut, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].Cargo.Nombre, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].Genero.Nombre, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].FechaInicio, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                        <th>
                            @Html.LabelFor(model => model.Organizacion.ComisionLiquidadoras[i].FechaTermino, new { htmlAttributes = new { @class = "control-label col-6" } })
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>
                            @Html.EditorFor(model => model.Organizacion.ComisionLiquidadoras[i].EsMiembro, new { htmlAttributes = new { @class = "form-control", @style = "height: 20px; margin: 14px 0;" } })
                        </th>
                        <th>
                            @Html.EditorFor(model => model.Organizacion.ComisionLiquidadoras[i].NombreCompleto, new { htmlAttributes = new { @class = "form-control col-6" } })
                        </th>
                        <th>
                            @Html.EditorFor(model => model.Organizacion.ComisionLiquidadoras[i].Rut, new { htmlAttributes = new { @class = "form-control col-6" } })
                        </th>
                        <th>
                            @Html.DropDownListFor(model => model.Organizacion.ComisionLiquidadoras[i].CargoId, new SelectList(ViewBag.CargoId, "Value", "Text", Model.Organizacion.ComisionLiquidadoras[i].CargoId), "Seleccione...", htmlAttributes: new { @class = "form-control col-6" })
                        </th>
                        <th>
                            @Html.DropDownListFor(model => model.Organizacion.ComisionLiquidadoras[i].GeneroId, new SelectList(ViewBag.GeneroId, "Value", "Text", Model.Organizacion.ComisionLiquidadoras[i].GeneroId), "Seleccione...", htmlAttributes: new { @class = "form-control col-6" })
                        </th>
                        <th>
                            @Html.EditorFor(model => model.Organizacion.ComisionLiquidadoras[i].FechaInicio, new { htmlAttributes = new { @class = "form-control col-6" } })
                        </th>
                        <th>
                            @Html.EditorFor(model => model.Organizacion.ComisionLiquidadoras[i].FechaTermino, new { htmlAttributes = new { @class = "form-control col-6" } })
                        </th>
                        <th>
                            @Ajax.ActionLink("Eliminar", "ComisionDelete", null, new {Model.Workflow.WorkflowId, Model.Organizacion.ComisionLiquidadoras.ToArray()[i].ComisionLiquidadoraId, Model.Organizacion.ComisionLiquidadoras.ToArray()[i].OrganizacionId }, new AjaxOptions { UpdateTargetId = "divDirectorio" }, htmlAttributes: new { @class = "btn btn-danger" })
                        </th>
                    </tr>
                </tbody>

            }
        </table>
        @Ajax.ActionLink("Agregar Miembro", "ComisionAdd", null, new {Model.Workflow.WorkflowId, Model.Organizacion.OrganizacionId }, new AjaxOptions { UpdateTargetId = "divDirectorio" }, htmlAttributes: new { @class = "btn btn-success" })
    </div>
}

