@model DAES.Model.SistemaIntegrado.Organizacion

<table class="table table-hover table-striped dataTable">
    @for (var i = 0; i < Model.Disolucions.Count(); i++)
    {
        @Html.HiddenFor(model=>model.OrganizacionId)
        @Html.HiddenFor(model => model.Disolucions[i].OrganizacionId)
        @Html.HiddenFor(model => model.Disolucions[i].DisolucionId)
        <thead>
            <tr>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].TipoNorma.Nombre, htmlAttributes: new { @class = "control-label col-md-10" })
                    @Html.DropDownListFor(model => model.Disolucions[i].TipoNormaId, new SelectList(ViewBag.TipoNormaId, "Value", "Text", Model.Disolucions[i].TipoNormaId), "Seleccione...", htmlAttributes: new { @class = "form-control col-6" })
                </th>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].NumeroNorma, htmlAttributes: new { @class = "control-label col-md-10" })
                    @Html.EditorFor(m => Model.Disolucions[i].NumeroNorma, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                </th>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].FechaNorma, htmlAttributes: new { @class = "control-label col-md-10" })
                    @Html.EditorFor(m => Model.Disolucions[i].FechaNorma, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                </th>
            </tr>
            <tr>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].FechaPubliccionDiarioOficial, htmlAttributes: new { @class = "control-label col-md-10" })
                    @if (Model.Disolucions.FirstOrDefault().FechaPubliccionDiarioOficial != null)
                    {
                        @Html.EditorFor(m => Model.Disolucions[i].FechaPubliccionDiarioOficial, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                    }
                    else
                    {
                        @Html.EditorFor(m => Model.Disolucions[i].FechaPubliAnterior, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                    }
                </th>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].Autorizacion, htmlAttributes: new { @class = "control-label col-md-10" })
                    @Html.EditorFor(m => Model.Disolucions[i].Autorizacion, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                </th>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].FechaJuntaSocios, htmlAttributes: new { @class = "control-label col-md-10" })
                    @if (Model.Disolucions.FirstOrDefault().FechaJuntaSocios != null)
                    {
                        @Html.EditorFor(m => Model.Disolucions[i].FechaJuntaSocios, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                    }
                    else
                    {
                        @Html.EditorFor(m => Model.Disolucions[i].FechaJuntaAnterior, new { htmlAttributes = new { @class = "form-control col-md-10" } })
                    }
                </th>
            </tr>
            <tr>
                <th>
                    @Html.LabelFor(m => Model.Disolucions[i].ComisionAnterior, htmlAttributes: new { @class = "control-label col-md-10" })
                    
                        @Html.EditorFor(m => Model.Disolucions[i].ComisionAnterior, new { htmlAttributes = new { @id = "comisionAnterior", @class = "form-control", @style = "height: 20px;" } })
                    
                <th>
                    @Ajax.ActionLink("Eliminar", "DisolucionDelete", null, new { Model.Disolucions.ToArray()[i].DisolucionId, Model.Disolucions.ToArray()[i].OrganizacionId }, new AjaxOptions { UpdateTargetId = "disolucion" })
                </th>
            </tr>
        </thead>
    }
</table>